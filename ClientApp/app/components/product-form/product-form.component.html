<h1></h1>
<p>
  {{ product | json }}
</p>
<div class="col-lg-6">
  <div class="well bs-component">
    <form class="form-horizontal" (ngSubmit)="submit()" #f="ngForm">
      <fieldset>

        <legend>Nouveau Produit</legend>

        <div class="form-group">
          <label for="category" class="col-lg-2 control-label">Catégorie</label>
          <div class="col-lg-10">
            <select class="form-control" id="category" name="categoryId" [(ngModel)]="product.categoryId" (change)="onCategoryChange()" required #category="ngModel" >
              <option value=""></option>
              <option *ngFor="let c of categories" value="{{ c.id }}">{{ c.name }}</option>
            </select>
            <div class="alert alert-danger" *ngIf="category.touched && !category.valid">merci de spécifier une catégorie.</div>
          </div>
        </div>  

        <!--
        <div class="form-group">
          <label for="product" class="col-lg-2 control-label">Produits</label>
          <div class="col-lg-10">
            <select id="product" class="form-control">
              <option value=""></option>
              <option *ngFor="let p of products" value="{{ p.id }}">{{ p.name }}</option>
            </select>
          </div>
        </div> 
        --> 

        <div class="form-group">
          <label for="name" class="col-lg-2 control-label">Nom</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="name" name="name" [(ngModel)]="product.name" placeholder="Nom du produit" required #name="ngModel" >
            <div class="alert alert-danger" *ngIf="name.touched && !name.valid">merci de saisir le nom du produit.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="reference" class="col-lg-2 control-label">Référence</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="reference" name="reference" [(ngModel)]="product.reference" placeholder="Référence du produit" required #reference="ngModel" >
            <div class="alert alert-danger" *ngIf="reference.touched && !reference.valid">merci de saisir la référence du produit.</div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-lg-10 col-lg-offset-2">
            <button type="reset" class="btn btn-default">Annuler</button>
            <button type="submit" class="btn btn-primary" [disabled]="!f.valid">Enregistrer</button>
          </div>
        </div>
          
        <h2>Utilisateurs</h2>
        
        <div *ngFor="let u of users" class="checkbox">
          <label for="user{{ u.id }}">
            <input type="checkbox" id="user{{ u.id }}" (change)="onUserToggle(u.id, $event)">{{ u.firstName }}
          </label>
        </div>

        <h2>Is this user Admin ?</h2>
        <label for="isAdmin" class="radio-inline">
          <input name="isAdmin" id="admin" type="radio" value="true" [(ngModel)]="product.isAdmin"> Yes
        </label>
        <label for="isNotAdmin" class="radio-inline">
          <input name="isAdmin" id="notAdmin" type="radio" value="false" [(ngModel)]="product.isAdmin"> No
        </label>

      </fieldset>
    </form>
  </div>
</div>